{"version":3,"sources":["webpack:///src/components/login.vue","webpack:///./src/components/login.vue?413c","webpack:///./src/components/login.vue","webpack:///src/App.vue","webpack:///./src/App.vue?75cc","webpack:///./src/App.vue","webpack:///./src/mixins/entity-list-edit.js","webpack:///src/components/numeric-input.vue","webpack:///./src/components/numeric-input.vue","webpack:///src/components/book-keeping.vue","webpack:///./src/components/book-keeping.vue?d948","webpack:///./src/components/book-keeping.vue","webpack:///./src/mixins/book-keeping.js","webpack:///src/components/categories.vue","webpack:///./src/components/categories.vue?abb1","webpack:///./src/components/categories.vue","webpack:///src/components/report.vue","webpack:///./src/components/report.vue?0917","webpack:///./src/components/report.vue","webpack:///./src/components/settings.vue?9058","webpack:///./src/components/settings.vue","webpack:///src/components/settings.vue","webpack:///src/components/money-sources.vue","webpack:///./src/components/money-sources.vue?273d","webpack:///./src/components/money-sources.vue","webpack:///./src/router/index.js","webpack:///./src/utils/http-common.js","webpack:///./src/utils/pascal-case-transform.js","webpack:///./src/store/modules/book-keeping.js","webpack:///./src/store/modules/auth.js","webpack:///./src/store/index.js","webpack:///node_modules/vue-echarts/components/ECharts.vue","webpack:///./node_modules/vue-echarts/components/ECharts.vue?de7e","webpack:///./node_modules/vue-echarts/components/ECharts.vue","webpack:///./src/main.js"],"names":["components_login","methods","extends_default","Object","vuex_esm","_this","this","loginForm","then","selectortype_template_index_0_src_components_login","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticStyle","width","margin","attrs","slot","_v","ref","model","status-icon","rules","label-width","prop","label","callback","$$v","$set","type","auto-complete","on","click","$event","submitForm","staticRenderFns","src_components_login","__webpack_require__","normalizeComponent","ssrContext","App","logout","whoIAm","getBalances","getCategories","period","getMoneySources","computed","now","currentDate","fetchData","Login","selectortype_template_index_0_src_App","staticClass","placement","logoutVisible","logoutAndDismiss","_s","userName","_e","logged","$route","tab-click","changeRoute","sm","format","input","getTransactions","trigger","data","balanceBySources","border","show-header","property","scopedSlots","_u","key","fn","scope","class","row","amount","toLocaleString","line-height","balance","src_App","App_normalizeComponent","entity_list_edit","entityForEdit","editModal","deleteEntity","entity","promise_default","a","sendEntity","createNewEntity","edit","assign_default","cancelEdit","save","$refs","validate","valid","$message","message","remove","_this2","$confirm","confirmButtonText","cancelButtonText","numeric_input","element_ui_common","Boolean","mask","unmaskedvalue","mutableValue","book_keeping","NumericInput","numeric_input_normalizeComponent","categoryId","components_book_keeping","float","icon","visible","title","update:visible","inline","label-position","filterable","placeholder","_l","group","category","id","value-format","moneySource","index","maxlength","margin-top","clear","transactions","getAmountClass","getAmountCaption","size","src_components_book_keeping","book_keeping_normalizeComponent","mixins_book_keeping","created","components_categories","true-label","false-label","categories","src_components_categories","categories_normalizeComponent","report","incomes","totalIncomeBySources","totalIncome","expenseCategories","components_report","transactionType","chartData","series","length","show-icon","closable","options","total","totalBySource","src_components_report","report_normalizeComponent","components_settings","src_components_settings","settings_normalizeComponent","components_money_sources","moneySources","src_components_money_sources","money_sources_normalizeComponent","money_sources","vue_esm","use","vue_router_esm","router","routes","path","component","redirect","children","http_common","get","url","_ref","request","token","post","_ref2","patch","_ref3","delete","_ref4","_ref5","axiosInstance","transformRequest","axiosConfig","baseURL","headers","Authorization","axios_default","create","http_common_createInstance","resolve","reject","response","catch","error","pascal_case_transform","s","stringify_default","replace","g0","g1","g2","console","log","toUpperCase","JSON","parse","URL_CATEGORIES","URL_MONEYSOURCES","modules_book_keeping","state","wallets","tags","balances","currentPeriod","getters","filter","t","expenses","totalTransactionOf","forEach","element","transit","totalExpense","totalBySourceOf","totalBySources","moneySourceId","find","f","push","totalExpenseBySources","categoriesByType","getCategoryByType","c","actions","commit","rootGetters","mutation","dispatch","afterDispatch","update","_ref6","_ref7","_ref8","_ref9","periodValue","dateFromParam","dateFrom","date","Date","getFullYear","getMonth","getDate","toDateString","dateToParam","dateTo","values_default","params","createTransaction","_ref10","transaction","updateTransaction","_ref11","deleteTransaction","_ref12","_ref13","createCategory","_ref14","updateCategory","_ref15","deleteCategory","_ref16","_ref17","createMoneySource","_ref18","updateMoneySource","_ref19","deleteMoneySource","_ref20","_ref21","mutations","defineProperty_default","_ref22","_mutations","_ref23","oldTransaction","_ref24","findIndex","splice","_ref25","_ref26","_ref27","_ref28","oldCategory","_ref29","_ref30","_ref31","_ref32","_ref33","_ref34","oldEntity","_ref35","_ref36","auth","session","localStorage","getItem","user","login","credentials","access_token","status","auth__mutations","pending","setItem","removeItem","store","Store","modules","bookKeeping","EVENTS","ECharts","String","_group","lazyUpdate","payload","_chart","args","method","initOptions","resize","__resizeHandler","chart","dispose","destroy","init","watchShallow","refresh","specialAreas","theme","graphic","components_ECharts","vue_echarts_components_ECharts","ECharts_normalizeComponent","locale_default","ru_RU_default","config","productionTip","element_ui_common_default","el","components","template"],"mappings":"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","file":"static/js/app.95516c3ab1a64109e151.js","sourcesContent":["<template lang=\"pug\">\r\n    el-card(style=\"width: 600px; margin: 0 auto\"  v-loading=\"loading\" )\r\n      div(slot=\"header\") Авторизация\r\n      el-form(:model=\"loginForm\" status-icon :rules=\"rules\" ref=\"loginForm\" label-width=\"120px\" )\r\n          el-form-item(prop=\"login\" label=\"Логин\")\r\n              el-input(v-model=\"loginForm.login\")\r\n          el-form-item(prop=\"password\" label=\"Пароль\")\r\n              el-input(v-model=\"loginForm.password\" type=\"password\" auto-complete=\"off\")\r\n          el-form-item\r\n              el-button(@click=\"submitForm('loginForm')\" type=\"primary\") Вход\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  name: 'login',\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      loginForm: {\r\n        login: '',\r\n        password: ''\r\n      },\r\n      rules: {\r\n        login: { required: true, message: 'Введите логин', trigger: 'blur' },\r\n        password: { required: true, message: 'Введите пароль', trigger: 'blur' }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(['login']),\r\n    submitForm (formName) {\r\n      let that = this\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.loading = true\r\n          this.login(this.loginForm)\r\n            .then(() => {\r\n              that.loading = false\r\n            },\r\n            () => {\r\n              this.loading = false\r\n              this.$message({\r\n                message: 'Неверное имя пользователя или пароль',\r\n                type: 'error'\r\n              })\r\n            })\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"600px\",\"margin\":\"0 auto\"}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Авторизация\")]),_c('el-form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"status-icon\":\"status-icon\",\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"prop\":\"login\",\"label\":\"Логин\"}},[_c('el-input',{model:{value:(_vm.loginForm.login),callback:function ($$v) {_vm.$set(_vm.loginForm, \"login\", $$v)},expression:\"loginForm.login\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\",\"label\":\"Пароль\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.submitForm('loginForm')}}},[_vm._v(\"Вход\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2d1f7f40\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2d1f7f40\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2d1f7f40\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\n  el-container(v-loading=\"loading\")\n    el-header\n      h1.header-title housekeeper\n      div.user-block(v-if=\"logged\")\n        el-popover(ref=\"logout\"\n                placement=\"bottom-start\"\n                width=\"50\"\n                v-model=\"logoutVisible\")\n          el-button(type=\"text\" @click=\"logoutAndDismiss\" style=\"width: 100%\") Выйти\n        el-button(v-popover=\"'logout'\") вы вошли как:\n          b  {{ userName }}\n    el-main\n      Login(v-if=\"!logged\")\n      div.content(v-else)\n        el-tabs(@tab-click=\"changeRoute\" :value=\"$route.name\")\n          el-tab-pane(label=\"Транзакции\" name=\"book-keeping\")\n          el-tab-pane(label=\"Отчет\" name=\"report\")\n          el-tab-pane(label=\"Настройки\" name=\"settings\")\n        el-card\n          el-row\n            el-col(:sm=\"18\")\n              span Период:\n              | &nbsp; &nbsp;\n              el-date-picker(v-model=\"period\" format=\"dd.MM.yyyy\" @input=\"getTransactions\" type=\"daterange\")\n            el-col(:sm=\"6\")\n              el-popover(placement=\"left-start\" trigger=\"hover\")\n                el-table(:data=\"balanceBySources\" border :show-header=\"false\")\n                  el-table-column(width=\"150\" property=\"title\" label=\"Источник\" )\n                  el-table-column(width=\"150\" property=\"amount\" label=\"Сумма\")\n                    template(slot-scope=\"scope\")\n                      span(:class=\"scope.row.amount > 0 ? 'positive-amount' : 'negative-amount'\")  {{ scope.row.amount.toLocaleString() }} грн\n                p(style=\"line-height:2\" slot=\"reference\") Баланс:\n                  span(:class=\"balance > 0 ? 'positive-amount' : 'negative-amount'\")  {{ balance.toLocaleString() }} грн\n        router-view.margin-top-10\n</template>\n\n<script>\nimport Login from '@/components/login'\nimport { mapActions, mapGetters } from 'vuex'\n\nexport default {\n  name: 'App',\n  methods: {\n    ...mapActions([\n      'whoIAm',\n      'logout',\n      'getTransactions',\n      'getCategories',\n      'getMoneySources',\n      'getBalances']),\n    toCategories () {\n      this.$router.push('categories')\n    },\n    logoutAndDismiss () {\n      this.logoutVisible = false\n      this.logout()\n    },\n    changeRoute (p) {\n      this.$router.push({ name: p.name })\n    },\n    fetchData () {\n      this.whoIAm()\n        .then(() => {\n          this.loading = false\n          if (this.logged) {\n            this.getBalances()\n            this.getCategories()\n              .then(() => {\n                this.getTransactions(this.period)\n                  .then(() => {\n                    this.loading = false\n                  })\n              })\n            this.getMoneySources()\n          }\n        }, () => { this.loading = false })\n    }\n  },\n  computed: {\n    ...mapGetters(['logged', 'userName', 'balance', 'balanceBySources'])\n  },\n  data () {\n    const currentDate = new Date(Date.now())\n    const dateFrom = new Date(Date.now() - 2700000000)\n    return {\n      logoutVisible: false,\n      loading: true,\n      period: [\n        dateFrom,\n        currentDate\n      ]\n    }\n  },\n  created () {\n    this.fetchData()\n  },\n  watch: {\n    logged () {\n      this.loading = true\n      this.fetchData()\n    }\n  },\n  components: {\n    Login\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n  .margin-top-10\n    margin-top 10px\n  .positive-amount, .negative-amount\n    font-weight bold\n  .positive-amount\n    color #0cbb55\n  .negative-amount\n    color #bb0c0c\n  .content\n    margin 0 auto\n    max-width 1366px\n  .user-block\n    float right\n    margin-top 10px\n  .el-header\n    background-color #2d2d2d\n  .el-container\n    background-color #f5f5f5\n    min-height 790px\n  .header-title\n    padding-top 20px\n    color #ffffff\n    display inline-block\n  .main-menu\n    display inline-block\n    float right\n    padding-right 30px\n    height 100%\n    li\n      color #fff\n      display inline-block\n      vertical-align middle\n      padding 0 10px\n      margin 0 10px\n      line-height: 80px\n      cursor pointer\n  *\n    font-family 'Exo 2', sans-serif\n    margin 0\n    padding 0\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-header',[_c('h1',{staticClass:\"header-title\"},[_vm._v(\"housekeeper\")]),(_vm.logged)?_c('div',{staticClass:\"user-block\"},[_c('el-popover',{ref:\"logout\",attrs:{\"placement\":\"bottom-start\",\"width\":\"50\"},model:{value:(_vm.logoutVisible),callback:function ($$v) {_vm.logoutVisible=$$v},expression:\"logoutVisible\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.logoutAndDismiss}},[_vm._v(\"Выйти\")])],1),_c('el-button',{directives:[{name:\"popover\",rawName:\"v-popover\",value:('logout'),expression:\"'logout'\"}]},[_vm._v(\"вы вошли как:\"),_c('b',[_vm._v(\" \"+_vm._s(_vm.userName))])])],1):_vm._e()]),_c('el-main',[(!_vm.logged)?_c('Login'):_c('div',{staticClass:\"content\"},[_c('el-tabs',{attrs:{\"value\":_vm.$route.name},on:{\"tab-click\":_vm.changeRoute}},[_c('el-tab-pane',{attrs:{\"label\":\"Транзакции\",\"name\":\"book-keeping\"}}),_c('el-tab-pane',{attrs:{\"label\":\"Отчет\",\"name\":\"report\"}}),_c('el-tab-pane',{attrs:{\"label\":\"Настройки\",\"name\":\"settings\"}})],1),_c('el-card',[_c('el-row',[_c('el-col',{attrs:{\"sm\":18}},[_c('span',[_vm._v(\"Период:\")]),_vm._v(\"   \"),_c('el-date-picker',{attrs:{\"format\":\"dd.MM.yyyy\",\"type\":\"daterange\"},on:{\"input\":_vm.getTransactions},model:{value:(_vm.period),callback:function ($$v) {_vm.period=$$v},expression:\"period\"}})],1),_c('el-col',{attrs:{\"sm\":6}},[_c('el-popover',{attrs:{\"placement\":\"left-start\",\"trigger\":\"hover\"}},[_c('el-table',{attrs:{\"data\":_vm.balanceBySources,\"border\":\"border\",\"show-header\":false}},[_c('el-table-column',{attrs:{\"width\":\"150\",\"property\":\"title\",\"label\":\"Источник\"}}),_c('el-table-column',{attrs:{\"width\":\"150\",\"property\":\"amount\",\"label\":\"Сумма\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:scope.row.amount > 0 ? 'positive-amount' : 'negative-amount'},[_vm._v(\" \"+_vm._s(scope.row.amount.toLocaleString())+\" грн\")])]}}])})],1),_c('p',{staticStyle:{\"line-height\":\"2\"},attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(\"Баланс:\"),_c('span',{class:_vm.balance > 0 ? 'positive-amount' : 'negative-amount'},[_vm._v(\" \"+_vm._s(_vm.balance.toLocaleString())+\" грн\")])])],1)],1)],1)],1),_c('router-view',{staticClass:\"margin-top-10\"})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-26710ad5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26710ad5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26710ad5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","\r\nexport default {\r\n  data () {\r\n    return {\r\n      entityForEdit: null,\r\n      editModal: false,\r\n      rules: []\r\n    }\r\n  },\r\n  methods: {\r\n    deleteEntity (entity) {\r\n      return new Promise()\r\n    },\r\n    sendEntity (entity) {\r\n    },\r\n    createNewEntity () {\r\n      return {}\r\n    },\r\n    edit (entity) {\r\n      let entityForEdit = {}\r\n      if (entity) {\r\n        Object.assign(entityForEdit, entity)\r\n      } else {\r\n        entityForEdit = this.createNewEntity()\r\n      }\r\n      this.entityForEdit = entityForEdit\r\n      this.editModal = true\r\n    },\r\n    cancelEdit () {\r\n      this.entityForEdit = null\r\n      this.editModal = false\r\n    },\r\n    save () {\r\n      this.$refs['editForm'].validate((valid) => {\r\n        if (valid) {\r\n          this.sendEntity(this.entityForEdit)\r\n          this.cancelEdit()\r\n        } else {\r\n          this.$message({\r\n            message: 'Введите корректно все необходимые данные',\r\n            type: 'error'\r\n          })\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    remove (entity) {\r\n      this.$confirm('Удаление необратимо, Вы уверены что хотите удалить строку?', 'Внимание', {\r\n        confirmButtonText: 'Да',\r\n        cancelButtonText: 'Отмена',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.deleteEntity(entity)\r\n          .then(() => {\r\n            this.$message({\r\n              type: 'success',\r\n              message: 'Строка удалена'\r\n            })\r\n          },\r\n          () => {\r\n            this.$message({\r\n              type: 'error',\r\n              message: 'Ошибка удаления'\r\n            })\r\n          })\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/entity-list-edit.js","<script>\r\n\r\nimport 'inputmask/dist/inputmask/inputmask.numeric.extensions.js'\r\nimport Inputmask from 'inputmask/dist/inputmask/inputmask.js'\r\nimport { Input } from 'element-ui'\r\nexport default {\r\n  name: 'numericInput',\r\n  mixins: [Input],\r\n  props: {\r\n    positive: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      muttableValue: this.value\r\n    }\r\n  },\r\n  mounted () {\r\n    var that = this\r\n    Inputmask({\r\n      groupSeparator: ' ',\r\n      autoGroup: true,\r\n      alias: 'numeric',\r\n      rightAlign: false,\r\n      removeMaskOnSubmit: true,\r\n      allowMinus: true,\r\n      allowPlus: false,\r\n      autounmask: true,\r\n      decimalProtect: false,\r\n      radixPoint: '.',\r\n      enforceDigitsOnBlur: true\r\n    }).mask(this.$refs.input)\r\n    var evHandler = function () {\r\n      that.mutableValue = parseFloat(this.inputmask.unmaskedvalue())\r\n      if (isNaN(that.mutableValue)) {\r\n        that.mutableValue = null\r\n      }\r\n      that.$emit('input', that.mutableValue)\r\n    }\r\n    this.$refs.input.addEventListener('input', evHandler)\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/numeric-input.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fed2e492\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./numeric-input.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./numeric-input.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./numeric-input.vue\"\n/* template */\nvar __vue_template__ = null\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/numeric-input.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\n  .book-keeping\n    el-card\n      el-row\n        el-col(:sm=\"12\") &nbsp;\n        el-col(:sm=\"12\")\n          el-button(type=\"success\" style=\"float: right\" icon=\"el-icon-plus\" @click=\"edit()\") Добавить транзакцию\n      el-dialog(:visible.sync=\"editModal\" width=\"65%\" title=\"Транзакция\")\n        el-form(:inline=\"true\"\n          :model=\"entityForEdit\"\n          v-if=\"editModal\"\n          :rules=\"rules\"\n          ref=\"editForm\"\n          label-position=\"top\")\n          el-form-item(label=\"Категория\" prop=\"categoryId\")\n            el-select(v-model=\"entityForEdit.categoryId\"\n              filterable\n              placeholder=\"Выбрать категорию\")\n              el-option-group(v-for=\"group in categoriesByType\" :label=\"group.title\" :key=\"group.title\")\n                el-option(v-for=\"category in group.categories\"\n                  :key=\"category.id\"\n                  :label=\"category.title\"\n                  :value=\"category.id\")\n          el-form-item(label=\"Дата\" prop=\"date\")\n            el-date-picker(v-model=\"entityForEdit.date\" placeholder=\"Выбрать дату\" format=\"dd.MM.yyyy\" value-format=\"dd.MM.yyyy\")\n          el-form-item(label=\"Сумма\" prop=\"amount\" style=\"width: 100px\")\n            //(:label=\"(entityForEdit.categoryId && category(entityForEdit.categoryId).type === 1) ? '-' : ''\")\n            numeric-input(v-model=\"entityForEdit.amount\" placeholder=\"Ввести сумму\")\n          el-form-item(label=\"Источник\")\n            el-select(v-model=\"entityForEdit.moneySourceId\")\n              el-option(v-for=\"(moneySource, index) in moneySources\" :key=\"index\" :value=\"moneySource.id\" :label=\"moneySource.title\")\n          el-form-item(label=\"Заметки\" prop=\"note\")\n            el-input(v-model=\"entityForEdit.note\" placeholder=\"Ввести заметку\" :maxlength=\"50\")\n          el-button-group(style=\"margin-top: 10px; float: right;\")\n            el-button(type=\"success\" @click=\"save\") Сохранить\n            el-button( @click=\"cancelEdit\") Отменить\n          div(style=\"clear: both\")\n      el-table(:data=\"transactions\")\n        el-table-column(label=\"Категория\")\n          template(slot-scope=\"scope\")\n            span {{ category(scope.row.categoryId).title }}\n        el-table-column(prop=\"date\" label=\"Дата\")\n        el-table-column(label=\"Сумма, грн\")\n          template(slot-scope=\"scope\")\n            span(:class=\"getAmountClass(scope.row)\") {{ getAmountCaption(scope.row) }}\n        el-table-column(label=\"Заметки\" prop=\"note\")\n        el-table-column(label=\"Действия\")\n          template(slot-scope=\"scope\")\n            el-button-group\n              el-button(type=\"primary\" size=\"mini\" @click=\"edit(scope.row)\" icon=\"el-icon-edit\")\n              el-button(type=\"danger\" size=\"mini\" @click=\"remove(scope.row)\" icon=\"el-icon-delete\")\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport EntityListEdit from '@/mixins/entity-list-edit'\nimport NumericInput from '@/components/numeric-input.vue'\nexport default {\n  name: 'book-keeping',\n  mixins: [EntityListEdit],\n  data () {\n    return {\n      rules: {\n        categoryId: [{ type: 'number', required: true, message: 'Обязательно к заполнению', trigger: 'blur' }],\n        amount: [{ type: 'number', required: true, message: 'Обязательно к заполнению', trigger: 'blur' }],\n        date: [{ type: 'string', required: true, message: 'Обязательно к заполнению', trigger: 'blur' }]\n      }\n    }\n  },\n  components: {\n    NumericInput\n  },\n  computed: {\n    ...mapGetters([\n      'transactions',\n      'categories',\n      'categoriesByType',\n      'tags',\n      'category',\n      'moneySources'\n    ])\n  },\n  methods: {\n    ...mapActions([\n      'createTransaction',\n      'updateTransaction',\n      'deleteTransaction'\n    ]),\n    createNewEntity () {\n      return {\n        categoryId: null,\n        date: '',\n        amount: null,\n        note: null,\n        moneySourceId: null\n      }\n    },\n    deleteEntity (entity) {\n      return this.deleteTransaction(entity)\n    },\n    sendEntity (entity) {\n      var category = this.category(entity.categoryId)\n      if (category.type === 1 && entity.amount > 0) {\n        entity.amount = -entity.amount\n      }\n      if (category.type === 2 && entity.amount < 0) {\n        entity.amount = -entity.amount\n      }\n      console.log(entity.amount)\n      entity.id ? this.updateTransaction(entity) : this.createTransaction(entity)\n    },\n    getAmountCaption (row) {\n      return row.amount.toLocaleString()\n    },\n    getAmountClass (row) {\n      return row.amount <= 0\n        ? 'negative-amount'\n        : 'positive-amount'\n    }\n  }\n}\n\n</script>\n<style lang=\"stylus\">\n  .header-column\n    color #707070\n    font-weight bold\n    font-size 14px\n  .action-group\n    opacity 0.3\n  .action-group:hover\n      opacity 1\n  .transaction-row\n    padding 15px 0 15px 0\n    border-bottom 1px solid #f5f5f5\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/book-keeping.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-keeping\"},[_c('el-card',[_c('el-row',[_c('el-col',{attrs:{\"sm\":12}},[_vm._v(\" \")]),_c('el-col',{attrs:{\"sm\":12}},[_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"success\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.edit()}}},[_vm._v(\"Добавить транзакцию\")])],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.editModal,\"width\":\"65%\",\"title\":\"Транзакция\"},on:{\"update:visible\":function($event){_vm.editModal=$event}}},[(_vm.editModal)?_c('el-form',{ref:\"editForm\",attrs:{\"inline\":true,\"model\":_vm.entityForEdit,\"rules\":_vm.rules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"Категория\",\"prop\":\"categoryId\"}},[_c('el-select',{attrs:{\"filterable\":\"filterable\",\"placeholder\":\"Выбрать категорию\"},model:{value:(_vm.entityForEdit.categoryId),callback:function ($$v) {_vm.$set(_vm.entityForEdit, \"categoryId\", $$v)},expression:\"entityForEdit.categoryId\"}},_vm._l((_vm.categoriesByType),function(group){return _c('el-option-group',{key:group.title,attrs:{\"label\":group.title}},_vm._l((group.categories),function(category){return _c('el-option',{key:category.id,attrs:{\"label\":category.title,\"value\":category.id}})}))}))],1),_c('el-form-item',{attrs:{\"label\":\"Дата\",\"prop\":\"date\"}},[_c('el-date-picker',{attrs:{\"placeholder\":\"Выбрать дату\",\"format\":\"dd.MM.yyyy\",\"value-format\":\"dd.MM.yyyy\"},model:{value:(_vm.entityForEdit.date),callback:function ($$v) {_vm.$set(_vm.entityForEdit, \"date\", $$v)},expression:\"entityForEdit.date\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"100px\"},attrs:{\"label\":\"Сумма\",\"prop\":\"amount\"}},[_c('numeric-input',{attrs:{\"placeholder\":\"Ввести сумму\"},model:{value:(_vm.entityForEdit.amount),callback:function ($$v) {_vm.$set(_vm.entityForEdit, \"amount\", $$v)},expression:\"entityForEdit.amount\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Источник\"}},[_c('el-select',{model:{value:(_vm.entityForEdit.moneySourceId),callback:function ($$v) {_vm.$set(_vm.entityForEdit, \"moneySourceId\", $$v)},expression:\"entityForEdit.moneySourceId\"}},_vm._l((_vm.moneySources),function(moneySource,index){return _c('el-option',{key:index,attrs:{\"value\":moneySource.id,\"label\":moneySource.title}})}))],1),_c('el-form-item',{attrs:{\"label\":\"Заметки\",\"prop\":\"note\"}},[_c('el-input',{attrs:{\"placeholder\":\"Ввести заметку\",\"maxlength\":50},model:{value:(_vm.entityForEdit.note),callback:function ($$v) {_vm.$set(_vm.entityForEdit, \"note\", $$v)},expression:\"entityForEdit.note\"}})],1),_c('el-button-group',{staticStyle:{\"margin-top\":\"10px\",\"float\":\"right\"}},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.save}},[_vm._v(\"Сохранить\")]),_c('el-button',{on:{\"click\":_vm.cancelEdit}},[_vm._v(\"Отменить\")])],1),_c('div',{staticStyle:{\"clear\":\"both\"}})],1):_vm._e()],1),_c('el-table',{attrs:{\"data\":_vm.transactions}},[_c('el-table-column',{attrs:{\"label\":\"Категория\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.category(scope.row.categoryId).title))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"date\",\"label\":\"Дата\"}}),_c('el-table-column',{attrs:{\"label\":\"Сумма, грн\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{class:_vm.getAmountClass(scope.row)},[_vm._v(_vm._s(_vm.getAmountCaption(scope.row)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Заметки\",\"prop\":\"note\"}}),_c('el-table-column',{attrs:{\"label\":\"Действия\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){_vm.edit(scope.row)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){_vm.remove(scope.row)}}})],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8ccaf7d2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/book-keeping.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8ccaf7d2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./book-keeping.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./book-keeping.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./book-keeping.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8ccaf7d2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./book-keeping.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/book-keeping.vue\n// module id = null\n// module chunks = ","// jshint ignore: start\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  created () {\r\n    this.getCategories()\r\n    this.getMoneySources()\r\n  },\r\n  computed: {\r\n    ...mapGetters(['categories', 'categoriesByType', 'moneySources'])\r\n  },\r\n  methods: {\r\n    ...mapActions(['getCategories', 'getMoneySources'])\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/book-keeping.js","<template lang=\"pug\">\r\n    div\r\n        el-dialog(:visible.sync=\"editModal\" width=\"60%\" title=\"Категория\")\r\n          el-form(:inline=\"true\"\r\n            :model=\"entityForEdit\"\r\n            :rules=\"rules\"\r\n            v-if=\"editModal\"\r\n            ref=\"editForm\"\r\n            label-position=\"top\")\r\n            el-form-item(label=\"Тип\" prop=\"type\")\r\n              el-select(v-model=\"entityForEdit.type\")\r\n                el-option(label=\"Расходы\" :value=\"1\")\r\n                el-option(label=\"Доходы\" :value=\"2\")\r\n            el-form-item(prop=\"transit\")\r\n              el-checkbox(v-model=\"entityForEdit.transit\"\r\n              :true-label=\"1\"\r\n              :false-label=\"0\"\r\n              ) Не учитывать в отчетах\r\n            el-form-item(label=\"Название\" prop=\"title\")\r\n              el-input(v-model=\"entityForEdit.title\" placeholder=\"Введите название\")\r\n            el-form-item(label=\"Действия\")\r\n              el-button-group\r\n                el-button(type=\"success\" @click=\"save\") Сохранить\r\n                el-button(@click=\"cancelEdit\") Отменить\r\n        el-button(type=\"success\" style=\"float: right\" icon=\"el-icon-plus\" @click=\"edit()\") Добавить категорию\r\n        div(v-for=\"(group, index) in categoriesByType\" style=\"margin-top:20px\" :key=\"index\")\r\n            h4 {{ group.title }}\r\n            el-table(:data=\"group.categories\")\r\n                el-table-column(label=\"Название\" prop=\"title\")\r\n                el-table-column\r\n                    template(slot-scope=\"scope\")\r\n                      el-button-group\r\n                        el-button(size=\"mini\" @click=\"edit(scope.row)\") Корректировать\r\n                        el-button(type=\"danger\" size=\"mini\" @click=\"remove(scope.row)\") Удалить\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport BookKeeping from '@/mixins/book-keeping'\r\nimport EntityListEdit from '@/mixins/entity-list-edit'\r\nexport default {\r\n  name: 'categories',\r\n  mixins: [BookKeeping, EntityListEdit],\r\n  data () {\r\n    return {\r\n      entityForEdit: null,\r\n      editModal: false,\r\n      rules: {\r\n        type: [{ type: 'number', required: true, message: 'Обязательно к заполнению', trigger: 'blur' }],\r\n        title: [{ type: 'string', required: true, message: 'Обязательно к заполнению', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'createCategory',\r\n      'updateCategory',\r\n      'deleteCategory'\r\n    ]),\r\n    deleteEntity (entity) {\r\n      return this.deleteCategory(entity)\r\n    },\r\n    sendEntity (entity) {\r\n      entity.id ? this.updateCategory(entity) : this.createCategory(entity)\r\n    },\r\n    createNewEntity () {\r\n      return {\r\n        title: '',\r\n        icon: null,\r\n        type: 1,\r\n        transit: 0\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/categories.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"visible\":_vm.editModal,\"width\":\"60%\",\"title\":\"Категория\"},on:{\"update:visible\":function($event){_vm.editModal=$event}}},[(_vm.editModal)?_c('el-form',{ref:\"editForm\",attrs:{\"inline\":true,\"model\":_vm.entityForEdit,\"rules\":_vm.rules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"Тип\",\"prop\":\"type\"}},[_c('el-select',{model:{value:(_vm.entityForEdit.type),callback:function ($$v) {_vm.$set(_vm.entityForEdit, \"type\", $$v)},expression:\"entityForEdit.type\"}},[_c('el-option',{attrs:{\"label\":\"Расходы\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"Доходы\",\"value\":2}})],1)],1),_c('el-form-item',{attrs:{\"prop\":\"transit\"}},[_c('el-checkbox',{attrs:{\"true-label\":1,\"false-label\":0},model:{value:(_vm.entityForEdit.transit),callback:function ($$v) {_vm.$set(_vm.entityForEdit, \"transit\", $$v)},expression:\"entityForEdit.transit\"}},[_vm._v(\"Не учитывать в отчетах\")])],1),_c('el-form-item',{attrs:{\"label\":\"Название\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"Введите название\"},model:{value:(_vm.entityForEdit.title),callback:function ($$v) {_vm.$set(_vm.entityForEdit, \"title\", $$v)},expression:\"entityForEdit.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Действия\"}},[_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.save}},[_vm._v(\"Сохранить\")]),_c('el-button',{on:{\"click\":_vm.cancelEdit}},[_vm._v(\"Отменить\")])],1)],1)],1):_vm._e()],1),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"success\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.edit()}}},[_vm._v(\"Добавить категорию\")]),_vm._l((_vm.categoriesByType),function(group,index){return _c('div',{key:index,staticStyle:{\"margin-top\":\"20px\"}},[_c('h4',[_vm._v(_vm._s(group.title))]),_c('el-table',{attrs:{\"data\":group.categories}},[_c('el-table-column',{attrs:{\"label\":\"Название\",\"prop\":\"title\"}}),_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.edit(scope.row)}}},[_vm._v(\"Корректировать\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.remove(scope.row)}}},[_vm._v(\"Удалить\")])],1)]}}])})],1)],1)})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21062720\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/categories.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21062720\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./categories.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./categories.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./categories.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21062720\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./categories.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/categories.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\r\n  div\r\n    el-card(v-loading=\"loading\")\r\n      el-row\r\n        el-col(:sm=\"12\")\r\n          el-select(v-model=\"transactionType\")\r\n            el-option(label=\"Расходы\" :value=\"1\")\r\n            el-option(label=\"Доходы\" :value=\"2\")\r\n      el-alert(style=\"margin-top: 20px\" type=\"info\" v-if=\"chartData.series[0].data.length === 0\" title=\"Данные для отчета отсутствуют\" show-icon :closable=\"false\")\r\n      div(v-if=\"transactions.length > 0\")\r\n        el-row\r\n          el-col(:sm=\"15\")\r\n            chart(:options=\"chartData\")\r\n          el-col(:sm=\"9\")\r\n            h2 {{ total.toLocaleString() }} грн\r\n            br\r\n            template(v-for=\"totalBySource in totalBySources\")\r\n              h3.source-report {{ totalBySource.title }} : {{ totalBySource.amount}} грн\r\n              hr\r\n\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n  name: 'report',\r\n  data () {\r\n    return {\r\n      yearMonth: new Date(Date.now()),\r\n      transactionType: 1,\r\n      loading: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'incomes',\r\n      'expenses',\r\n      'categoriesByType',\r\n      'category',\r\n      'totalExpense',\r\n      'totalIncome',\r\n      'totalIncomeBySources',\r\n      'totalExpenseBySources',\r\n      'moneySource']),\r\n    transactions () {\r\n      return this.transactionType === 1 ? this.expenses : this.incomes\r\n    },\r\n    totalBySources () {\r\n      return this.transactionType === 1 ? this.totalExpenseBySources : this.totalIncomeBySources\r\n    },\r\n    total () {\r\n      return this.transactionType === 1 ? this.totalExpense : this.totalIncome\r\n    },\r\n    chartData () {\r\n      var expenseCategories = this.categoriesByType[this.transactionType === 1 ? 0 : 1].categories.map((t) => t.title)\r\n      var expenses = {}\r\n      this.transactions.forEach(t => {\r\n        var category = this.category(t.categoryId)\r\n        if (category.type !== this.transactionType || category.transit) {\r\n          return\r\n        }\r\n        if (!expenses[category.title]) {\r\n          expenses[category.title] = 0\r\n        }\r\n        expenses[category.title] += t.amount\r\n      })\r\n      var data = []\r\n      for (var prop in expenses) {\r\n        data.push({ name: prop, value: expenses[prop] })\r\n      }\r\n      return {\r\n        title: {\r\n          text: 'Отчет',\r\n          x: 'center'\r\n        },\r\n        tooltip: {\r\n          trigger: 'item',\r\n          formatter: '{a} <br/>{b} : {c} грн ({d}%)'\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          data: expenseCategories\r\n        },\r\n        series: [{\r\n          name: 'Расходы',\r\n          type: 'pie',\r\n          radius: ['50%', '70%'],\r\n          data: data\r\n        }]\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .source-report {\r\n    margin-top: 20px\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/report.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('el-row',[_c('el-col',{attrs:{\"sm\":12}},[_c('el-select',{model:{value:(_vm.transactionType),callback:function ($$v) {_vm.transactionType=$$v},expression:\"transactionType\"}},[_c('el-option',{attrs:{\"label\":\"Расходы\",\"value\":1}}),_c('el-option',{attrs:{\"label\":\"Доходы\",\"value\":2}})],1)],1)],1),(_vm.chartData.series[0].data.length === 0)?_c('el-alert',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"info\",\"title\":\"Данные для отчета отсутствуют\",\"show-icon\":\"show-icon\",\"closable\":false}}):_vm._e(),(_vm.transactions.length > 0)?_c('div',[_c('el-row',[_c('el-col',{attrs:{\"sm\":15}},[_c('chart',{attrs:{\"options\":_vm.chartData}})],1),_c('el-col',{attrs:{\"sm\":9}},[_c('h2',[_vm._v(_vm._s(_vm.total.toLocaleString())+\" грн\")]),_c('br'),_vm._l((_vm.totalBySources),function(totalBySource){return [_c('h3',{staticClass:\"source-report\"},[_vm._v(_vm._s(totalBySource.title)+\" : \"+_vm._s(totalBySource.amount)+\" грн\")]),_c('hr')]})],2)],1)],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f60e349\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/report.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f60e349\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./report.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./report.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./report.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f60e349\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./report.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/report.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-tabs',{attrs:{\"type\":\"border-card\",\"value\":_vm.$route.name},on:{\"tab-click\":_vm.changeRoute}},[_c('el-tab-pane',{attrs:{\"label\":\"Настройки категорий\",\"name\":\"categories\"}},[_c('router-view')],1),_c('el-tab-pane',{attrs:{\"label\":\"Источники денег\",\"name\":\"moneySources\"}},[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32cce1f6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/settings.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32cce1f6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./settings.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./settings.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./settings.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32cce1f6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./settings.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/settings.vue\n// module id = null\n// module chunks = ","<template lang=\"pug\">\r\n  div\r\n    el-tabs(type=\"border-card\" @tab-click=\"changeRoute\" :value=\"$route.name\")\r\n      el-tab-pane(label=\"Настройки категорий\" name=\"categories\")\r\n        router-view\r\n      el-tab-pane(label=\"Источники денег\" name=\"moneySources\")\r\n        router-view\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'settings',\r\n  methods: {\r\n    changeRoute (p) {\r\n      this.$router.push({ name: p.name })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/settings.vue","<template lang=\"pug\">\r\n  div\r\n    el-dialog(:visible.sync=\"editModal\" width=\"60%\" title=\"Источник\")\r\n      el-form(:inline=\"true\"\r\n        :model=\"entityForEdit\"\r\n        :rules=\"rules\"\r\n        v-if=\"editModal\"\r\n        ref=\"editForm\"\r\n        label-position=\"top\")\r\n        el-form-item(label=\"Название\" prop=\"title\")\r\n          el-input(v-model=\"entityForEdit.title\" placeholder=\"Введите название\")\r\n        el-form-item(label=\"Действия\")\r\n          el-button-group\r\n            el-button(type=\"success\" @click=\"save\") Сохранить\r\n            el-button(@click=\"cancelEdit\") Отменить\r\n    el-button(type=\"success\" style=\"float: right\" icon=\"el-icon-plus\" @click=\"edit()\") Добавить источник\r\n    div(style=\"margin-top:20px\")\r\n        el-table(:data=\"moneySources\")\r\n            el-table-column(label=\"Название\" prop=\"title\")\r\n            el-table-column\r\n                template(slot-scope=\"scope\")\r\n                  el-button-group\r\n                    el-button(size=\"mini\" @click=\"edit(scope.row)\") Корректировать\r\n                    el-button(type=\"danger\" size=\"mini\" @click=\"remove(scope.row)\") Удалить\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport BookKeeping from '@/mixins/book-keeping'\r\nimport EntityListEdit from '@/mixins/entity-list-edit'\r\nexport default {\r\n  name: 'moneySources',\r\n  mixins: [BookKeeping, EntityListEdit],\r\n  data () {\r\n    return {\r\n      entityForEdit: null,\r\n      editModal: false,\r\n      rules: {\r\n        title: [{ type: 'string', required: true, message: 'Обязательно к заполнению', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'createMoneySource',\r\n      'updateMoneySource',\r\n      'deleteMoneySource'\r\n    ]),\r\n    deleteEntity (entity) {\r\n      return this.deleteMoneySource(entity)\r\n    },\r\n    sendEntity (entity) {\r\n      entity.id ? this.updateMoneySource(entity) : this.createMoneySource(entity)\r\n    },\r\n    createNewEntity () {\r\n      return {\r\n        title: ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/money-sources.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"visible\":_vm.editModal,\"width\":\"60%\",\"title\":\"Источник\"},on:{\"update:visible\":function($event){_vm.editModal=$event}}},[(_vm.editModal)?_c('el-form',{ref:\"editForm\",attrs:{\"inline\":true,\"model\":_vm.entityForEdit,\"rules\":_vm.rules,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"Название\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"Введите название\"},model:{value:(_vm.entityForEdit.title),callback:function ($$v) {_vm.$set(_vm.entityForEdit, \"title\", $$v)},expression:\"entityForEdit.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Действия\"}},[_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.save}},[_vm._v(\"Сохранить\")]),_c('el-button',{on:{\"click\":_vm.cancelEdit}},[_vm._v(\"Отменить\")])],1)],1)],1):_vm._e()],1),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"success\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){_vm.edit()}}},[_vm._v(\"Добавить источник\")]),_c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-table',{attrs:{\"data\":_vm.moneySources}},[_c('el-table-column',{attrs:{\"label\":\"Название\",\"prop\":\"title\"}}),_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button-group',[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.edit(scope.row)}}},[_vm._v(\"Корректировать\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.remove(scope.row)}}},[_vm._v(\"Удалить\")])],1)]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-af7ad540\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/money-sources.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-af7ad540\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./money-sources.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./money-sources.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./money-sources.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-af7ad540\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./money-sources.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/money-sources.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport BookKeeping from '@/components/book-keeping.vue'\nimport Categories from '@/components/categories.vue'\nimport Report from '@/components/report.vue'\nimport Settings from '@/components/settings.vue'\nimport MoneySources from '@/components/money-sources.vue'\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'book-keeping',\n      component: BookKeeping\n    },\n    {\n      path: '/report',\n      name: 'report',\n      component: Report\n    },\n    {\n      path: '/settings',\n      name: 'settings',\n      component: Settings,\n      redirect: { name: 'categories' },\n      children: [\n        {\n          path: '/settings/categories',\n          name: 'categories',\n          component: Categories\n        },\n        {\n          path: '/settings/money-sources',\n          name: 'moneySources',\n          component: MoneySources\n        }\n      ]\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\r\nimport axios from 'axios'\r\nconst isProduction = process.env.NODE_ENV === 'production'\r\nvar createInstance = (token, transformRequest) => {\r\n  const axiosConfig = {\r\n    baseURL: isProduction ? 'http://f3mann-001-site1.dtempurl.com/api' : 'http://localhost:49757/api'\r\n  }\r\n  if (token) {\r\n    axiosConfig.headers = {\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  }\r\n  return axios.create(axiosConfig)\r\n}\r\nexport default {\r\n  get (url, { request, token }) {\r\n    return this.request('get', url, { request, token })\r\n  },\r\n  post (url, { request, token }) {\r\n    return this.request('post', url, { request, token })\r\n  },\r\n  patch (url, { request, token }) {\r\n    return this.request('patch', url, { request, token })\r\n  },\r\n  delete (url, { request, token }) {\r\n    return this.request('delete', url, { request, token })\r\n  },\r\n  request (type, url, { request, token }) {\r\n    let axiosInstance = createInstance(token)\r\n    return new Promise((resolve, reject) => {\r\n      axiosInstance[type](url, request)\r\n        .then(response => resolve(response))\r\n        .catch(error => reject(error))\r\n    })\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/http-common.js","const env = process.env.NODE_ENV\r\nexport default {\r\n  transform (entity) {\r\n    let s = JSON.stringify(entity)\r\n    s = s.replace(/(\\w)(\\w*)/g, (g0, g1, g2) => {\r\n      console.log(g0)\r\n      console.log(g1)\r\n      console.log(g2)\r\n      return g1.toUpperCase() + g2\r\n    })\r\n    s = s.replace(/(:Null)/g, ':null')\r\n    if (env === 'development') {\r\n      console.log(env)\r\n      console.log(entity)\r\n      console.log(s)\r\n    }\r\n    console.log(s)\r\n    entity = JSON.parse(s)\r\n    return entity\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/pascal-case-transform.js","\r\nimport HTTP from '@/utils/http-common'\r\nimport PascalCaseTransform from '@/utils/pascal-case-transform'\r\n\r\n// endpoints\r\nconst URL_GET_TRANSACTIONS = '/bookkeeping/transactions'\r\nconst URL_TRANSACTION = '/bookkeeping/transactions/'\r\nconst URL_CATEGORIES = '/bookkeeping/categories/'\r\nconst URL_MONEYSOURCES = '/bookkeeping/moneysources/'\r\nconst URL_BALANCES = '/bookkeeping/balances/'\r\n\r\n// mutation types\r\nconst CREATE_TRANSACTION = 'CREATE_TRANSACTION'\r\nconst UPDATE_TRANSACTION = 'UPDATE_TRANSACTION'\r\nconst DELETE_TRANSACTION = 'DELETE_TRANSACTION'\r\nconst SET_TRANSACTIONS = 'SET_TRANSACTIONS'\r\n\r\nconst SET_CATEGORIES = 'SET_CATEGORIES'\r\nconst CREATE_CATEGORY = 'CREATE_CATEGORY'\r\nconst UPDATE_CATEGORY = 'UPDATE_CATEGORY'\r\nconst DELETE_CATEGORY = 'DELETE_CATEGORY'\r\nconst SET_CURRENT_PERIOD = 'SET_CURRENT_PERIOD'\r\n\r\nconst SET_MONEYSOURCES = 'SET_MONEYSOURCES'\r\nconst CREATE_MONEYSOURCE = 'CREATE_MONEYSOURCE'\r\nconst UPDATE_MONEYSOURCE = 'UPDATE_MONEYSOURCE'\r\nconst DELETE_MONEYSOURCE = 'DELETE_MONEYSOURCE'\r\n\r\nconst SET_BALANCES = 'SET_BALANCES'\r\n\r\nconst state = {\r\n  transactions: [],\r\n  wallets: [],\r\n  tags: [],\r\n  categories: [],\r\n  moneySources: [],\r\n  balances: [],\r\n  currentPeriod: null\r\n}\r\n\r\nconst getters = {\r\n  transactions: state => state.transactions,\r\n  categories: state => state.categories,\r\n  moneySources: state => state.moneySources,\r\n  incomes: state => state.transactions.filter(t => t.amount > 0),\r\n  expenses: state => state.transactions.filter(t => t.amount < 0),\r\n  totalTransactionOf: (state, getters) => {\r\n    return (type) => {\r\n      let total = 0\r\n      getters[type].forEach(element => {\r\n        console.log(getters.category(element.categoryId))\r\n        if (getters.category(element.categoryId).transit) {\r\n          return\r\n        }\r\n        total += element.amount\r\n      })\r\n      return total\r\n    }\r\n  },\r\n  totalIncome: (state, getters) => {\r\n    return getters.totalTransactionOf('incomes')\r\n  },\r\n  totalExpense: (state, getters) => {\r\n    return getters.totalTransactionOf('expenses')\r\n  },\r\n  totalBySourceOf: (state, getters) => {\r\n    return (type) => {\r\n      let totalBySources = []\r\n      getters[type].forEach(element => {\r\n        if (getters.category(element.categoryId).transit) {\r\n          return\r\n        }\r\n        const id = element.moneySourceId || 0\r\n        let totalBySource = totalBySources.find(f => f.id === id)\r\n        if (!totalBySource) {\r\n          totalBySource = { id, title: id ? getters.moneySource(id).title : 'Не определено', amount: 0 }\r\n          totalBySources.push(totalBySource)\r\n        }\r\n        totalBySource.amount += element.amount\r\n      })\r\n      return totalBySources\r\n    }\r\n  },\r\n  totalIncomeBySources: (state, getters) => {\r\n    return getters.totalBySourceOf('incomes')\r\n  },\r\n  totalExpenseBySources: (state, getters) => {\r\n    return getters.totalBySourceOf('expenses')\r\n  },\r\n  balance: (state, getters) => {\r\n    let total = 0\r\n    getters.balanceBySources.forEach(element => {\r\n      total += element.amount\r\n    })\r\n    return total\r\n  },\r\n  balanceBySources: (state, getters) => {\r\n    return state.balances\r\n    /* const totalBalanceBySources = getters.totalIncomeBySources.slice(0, getters.totalIncomeBySources.length)\r\n    const expenseBySources = getters.totalExpenseBySources\r\n    console.log(totalBalanceBySources)\r\n    expenseBySources.forEach(element => {\r\n      let balanceBySource = totalBalanceBySources.find(x => x.id === element.id)\r\n      if (!balanceBySource) {\r\n        balanceBySource = { id: element.id, title: element.title, amount: 0 }\r\n        totalBalanceBySources.push(balanceBySource)\r\n      }\r\n      balanceBySource.amount += element.amount\r\n    })\r\n    return totalBalanceBySources */\r\n  },\r\n  categoriesByType: (state, getters) => {\r\n    return [\r\n      {\r\n        title: 'Расходы',\r\n        categories: getters.getCategoryByType(1)\r\n      },\r\n      {\r\n        title: 'Доходы',\r\n        categories: getters.getCategoryByType(2)\r\n      }\r\n    ]\r\n  },\r\n  getCategoryByType: (state, getters) => {\r\n    return type => getters.categories.filter(c => c.type === type)\r\n  },\r\n  tags: state => state.tags,\r\n  category: (state) => {\r\n    return id => state.categories.find(c => c.id === id)\r\n  },\r\n  moneySource: (state) => {\r\n    return id => state.moneySources.find(c => c.id === id)\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  get ({ commit, state, rootGetters }, { url, mutation }) {\r\n    return new Promise((resolve, reject) => {\r\n      HTTP.get(url, { token: rootGetters.token })\r\n        .then(response => {\r\n          resolve()\r\n          commit(mutation, { value: response.data })\r\n        })\r\n    })\r\n  },\r\n  create ({ commit, state, rootGetters, dispatch }, { url, mutation, entity, afterDispatch }) {\r\n    HTTP.post(url, { token: rootGetters.token, request: PascalCaseTransform.transform(entity) })\r\n      .then(response => {\r\n        commit(mutation, { value: response.data })\r\n        dispatch(afterDispatch)\r\n      })\r\n  },\r\n  update ({ commit, state, rootGetters }, { url, mutation, entity }) {\r\n    HTTP.patch(url, { request: entity, token: rootGetters.token })\r\n      .then(response => {\r\n        commit(mutation, { value: response.data })\r\n      })\r\n  },\r\n  delete ({ commit, state, rootGetters }, { url, mutation, entity }) {\r\n    return new Promise((resolve, reject) => {\r\n      HTTP.delete(url, { token: rootGetters.token })\r\n        .then(response => {\r\n          if (response.data) {\r\n            resolve()\r\n            commit(mutation, { value: entity })\r\n          } else {\r\n            reject(response.data)\r\n          }\r\n        }, error => reject(error))\r\n    })\r\n  },\r\n  getTransactions ({ commit, rootGetters }, period) {\r\n    let periodValue = null\r\n    if (period && period.length === 2) {\r\n      const dateFromParam = period[0]\r\n      const dateFrom = dateFromParam\r\n        ? (typeof date === 'string' ? dateFromParam : new Date(dateFromParam.getFullYear(), dateFromParam.getMonth(), dateFromParam.getDate()).toDateString())\r\n        : ''\r\n      const dateToParam = period[1]\r\n      const dateTo = dateToParam\r\n        ? (typeof date === 'string' ? dateToParam : new Date(dateToParam.getFullYear(), dateToParam.getMonth(), dateToParam.getDate()).toDateString())\r\n        : ''\r\n      periodValue = {\r\n        dateFrom,\r\n        dateTo\r\n      }\r\n    }\r\n    commit(SET_CURRENT_PERIOD, { period: Object.values(periodValue) })\r\n    return new Promise((resolve, reject) => {\r\n      HTTP.get(URL_GET_TRANSACTIONS, {\r\n        token: rootGetters.token,\r\n        request: {\r\n          params: {\r\n            ...periodValue\r\n          }\r\n        }\r\n      })\r\n        .then(response => {\r\n          resolve()\r\n          commit(SET_TRANSACTIONS, { transactions: response.data })\r\n        })\r\n    })\r\n  },\r\n  createTransaction ({ commit, state, rootGetters, dispatch }, transaction) {\r\n    HTTP.post(URL_TRANSACTION, { request: PascalCaseTransform.transform(transaction), token: rootGetters.token })\r\n      .then(response => {\r\n        commit(CREATE_TRANSACTION, { transaction: response.data })\r\n        dispatch('getTransactions', state.currentPeriod)\r\n        dispatch('getBalances', state.currentPeriod)\r\n      })\r\n  },\r\n  updateTransaction ({ commit, state, rootGetters, dispatch }, transaction) {\r\n    HTTP.patch(URL_TRANSACTION + transaction.id, { request: transaction, token: rootGetters.token })\r\n      .then(response => {\r\n        commit(UPDATE_TRANSACTION, { transaction })\r\n        dispatch('getBalances', state.currentPeriod)\r\n      })\r\n  },\r\n  deleteTransaction ({ commit, state, rootGetters, dispatch }, transaction) {\r\n    HTTP.delete(URL_TRANSACTION + transaction.id, { token: rootGetters.token })\r\n      .then(response => {\r\n        commit(DELETE_TRANSACTION, { transaction })\r\n        dispatch('getBalances', state.currentPeriod)\r\n      })\r\n  },\r\n  getCategories ({ dispatch }) {\r\n    return dispatch('get', { url: URL_CATEGORIES, mutation: SET_CATEGORIES })\r\n  },\r\n  createCategory ({ dispatch }, category) {\r\n    dispatch('create', { url: URL_CATEGORIES, mutation: CREATE_CATEGORY, entity: category, afterDispatch: 'getCategories' })\r\n  },\r\n  updateCategory ({ dispatch }, category) {\r\n    dispatch('update', { url: URL_CATEGORIES + category.id, mutation: UPDATE_CATEGORY, entity: category })\r\n  },\r\n  deleteCategory ({ dispatch }, category) {\r\n    return dispatch('delete', { url: URL_CATEGORIES + category.id, mutation: DELETE_CATEGORY, entity: category })\r\n  },\r\n  getMoneySources ({ dispatch }) {\r\n    return dispatch('get', { url: URL_MONEYSOURCES, mutation: SET_MONEYSOURCES })\r\n  },\r\n  createMoneySource ({ dispatch }, entity) {\r\n    dispatch('create', { url: URL_MONEYSOURCES, mutation: CREATE_MONEYSOURCE, entity: entity, afterDispatch: 'getMoneySources' })\r\n  },\r\n  updateMoneySource ({ dispatch }, entity) {\r\n    dispatch('update', { url: URL_MONEYSOURCES + entity.id, mutation: UPDATE_MONEYSOURCE, entity: entity })\r\n  },\r\n  deleteMoneySource ({ dispatch }, entity) {\r\n    return dispatch('delete', { url: URL_MONEYSOURCES + entity.id, mutation: DELETE_MONEYSOURCE, entity: entity })\r\n  },\r\n  getBalances ({ dispatch }) {\r\n    return dispatch('get', { url: URL_BALANCES, mutation: SET_BALANCES })\r\n  }\r\n}\r\n\r\nconst mutations = {\r\n  [CREATE_TRANSACTION] (state, { transaction }) {\r\n    // state.transactions.push(transaction)\r\n  },\r\n  [UPDATE_TRANSACTION] (state, { transaction }) {\r\n    let oldTransaction = state.transactions.find(t => t.id === transaction.id)\r\n    Object.assign(oldTransaction, transaction)\r\n  },\r\n  [DELETE_TRANSACTION] (state, { transaction }) {\r\n    let index = state.transactions.findIndex(t => t.id === transaction.id)\r\n    state.transactions.splice(index, 1)\r\n  },\r\n  [SET_TRANSACTIONS] (state, { transactions }) {\r\n    state.transactions = transactions\r\n  },\r\n  [SET_CATEGORIES] (state, { value }) {\r\n    state.categories = value\r\n  },\r\n  [CREATE_CATEGORY] (state, { value }) {\r\n    // state.transactions.push(transaction)\r\n  },\r\n  [UPDATE_CATEGORY] (state, { value }) {\r\n    console.log(value)\r\n    let oldCategory = state.categories.find(t => t.id === value.id)\r\n    Object.assign(oldCategory, value)\r\n  },\r\n  [DELETE_CATEGORY] (state, { value }) {\r\n    let index = state.categories.findIndex(t => t.id === value.id)\r\n    state.categories.splice(index, 1)\r\n  },\r\n  [SET_CATEGORIES] (state, { value }) {\r\n    state.categories = value\r\n  },\r\n  [SET_CURRENT_PERIOD] (state, { period }) {\r\n    state.currentPeriod = period\r\n  },\r\n  [SET_MONEYSOURCES] (state, { value }) {\r\n    state.moneySources = value\r\n  },\r\n  [CREATE_MONEYSOURCE] (state, { value }) {\r\n    // state.transactions.push(transaction)\r\n  },\r\n  [UPDATE_MONEYSOURCE] (state, { value }) {\r\n    let oldEntity = state.moneySources.find(t => t.id === value.id)\r\n    Object.assign(oldEntity, value)\r\n  },\r\n  [DELETE_MONEYSOURCE] (state, { value }) {\r\n    let index = state.moneySources.findIndex(t => t.id === value.id)\r\n    state.moneySources.splice(index, 1)\r\n  },\r\n  [SET_BALANCES] (state, { value }) {\r\n    state.balances = value\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/book-keeping.js","import HTTP from '@/utils/http-common'\r\n\r\n// endpoints\r\nconst URL_CREATE_TOKEN = '/auth/token'\r\nconst URL_GET_USER = '/auth/userinfo'\r\n\r\n// mutation types\r\nconst LOGIN = 'LOGIN'\r\nconst LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nconst LOGOUT = 'LOGOUT'\r\nconst WHO_I_AM = 'WHO_I_AM'\r\nconst TOKEN_KEY = 'USER_TOKEN'\r\nconst UNAUTHORIZED = 401\r\n\r\nconst state = {\r\n  session: {\r\n    logged: !!localStorage.getItem(TOKEN_KEY),\r\n    token: localStorage.getItem(TOKEN_KEY),\r\n    user: {\r\n      name: ''\r\n    }\r\n  }\r\n}\r\nconst getters = {\r\n  logged: state => state.session.logged,\r\n  token: state => state.session.token,\r\n  userName: state => state.session.user.name\r\n}\r\n\r\nconst mutations = {\r\n  [LOGIN] (state) {\r\n    state.pending = true\r\n  },\r\n  [LOGIN_SUCCESS] (state, { token }) {\r\n    state.session.logged = true\r\n    state.session.token = token\r\n    localStorage.setItem(TOKEN_KEY, token)\r\n  },\r\n  [LOGOUT] (state) {\r\n    localStorage.removeItem(TOKEN_KEY)\r\n    state.session.token = null\r\n    state.session.logged = false\r\n  },\r\n  [WHO_I_AM] (state, { name }) {\r\n    state.session.user.name = name\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  login ({ state, commit, dispatch }, credentials) {\r\n    var data = {}\r\n    Object.assign(data, credentials)\r\n    return new Promise((resolve, reject) => {\r\n      HTTP.post(URL_CREATE_TOKEN, { request: data })\r\n        .then(response => {\r\n          commit(LOGIN_SUCCESS, { token: response.data.access_token })\r\n          dispatch('whoIAm')\r\n          resolve(true)\r\n        })\r\n        .catch(error => reject(error))\r\n    })\r\n  },\r\n  logout ({state, commit}) {\r\n    commit(LOGOUT)\r\n  },\r\n  whoIAm ({ state, commit, getters }) {\r\n    return new Promise((resolve, reject) => {\r\n      if (!getters.logged) {\r\n        resolve()\r\n        return\r\n      }\r\n      HTTP.post(URL_GET_USER, { token: state.session.token })\r\n        .then(response => {\r\n          resolve()\r\n          commit(WHO_I_AM, { name: response.data })\r\n        }, error => {\r\n          reject(error)\r\n          if (error.response.status === UNAUTHORIZED) {\r\n            console.log(error.response)\r\n            commit(LOGOUT)\r\n          }\r\n        })\r\n    })\r\n  }\r\n}\r\nexport default {\r\n  state,\r\n  getters,\r\n  actions,\r\n  mutations\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/auth.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport bookKeeping from './modules/book-keeping'\r\nimport auth from './modules/auth'\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    bookKeeping,\r\n    auth\r\n  }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n<div class=\"echarts\"/>\n</template>\n\n<style>\n.echarts {\n  width: 600px;\n  height: 400px;\n}\n</style>\n\n<script>\nimport echarts from 'echarts/lib/echarts'\nimport debounce from 'lodash/debounce'\nimport { addListener, removeListener } from 'resize-detector'\nimport Vue from 'vue'\n\n// enumerating ECharts events for now\nconst EVENTS = [\n  'legendselectchanged',\n  'legendselected',\n  'legendunselected',\n  'datazoom',\n  'datarangeselected',\n  'timelinechanged',\n  'timelineplaychanged',\n  'restore',\n  'dataviewchanged',\n  'magictypechanged',\n  'geoselectchanged',\n  'geoselected',\n  'geounselected',\n  'pieselectchanged',\n  'pieselected',\n  'pieunselected',\n  'mapselectchanged',\n  'mapselected',\n  'mapunselected',\n  'axisareaselected',\n  'focusnodeadjacency',\n  'unfocusnodeadjacency',\n  'brush',\n  'brushselected',\n  'click',\n  'dblclick',\n  'mouseover',\n  'mouseout',\n  'mousedown',\n  'mouseup',\n  'globalout'\n]\n\nexport default {\n  props: {\n    options: Object,\n    theme: [String, Object],\n    initOptions: Object,\n    group: String,\n    autoResize: Boolean,\n    watchShallow: Boolean\n  },\n  data () {\n    return {\n      chart: null\n    }\n  },\n  computed: {\n    // Only recalculated when accessed from JavaScript.\n    // Won't update DOM on value change because getters\n    // don't depend on reactive values\n    width: {\n      cache: false,\n      get () {\n        return this.delegateGet('width', 'getWidth')\n      }\n    },\n    height: {\n      cache: false,\n      get () {\n        return this.delegateGet('height', 'getHeight')\n      }\n    },\n    isDisposed: {\n      cache: false,\n      get () {\n        return !!this.delegateGet('isDisposed', 'isDisposed')\n      }\n    },\n    computedOptions: {\n      cache: false,\n      get () {\n        return this.delegateGet('computedOptions', 'getOption')\n      }\n    }\n  },\n  watch: {\n    group (group) {\n      this.chart.group = group\n    }\n  },\n  methods: {\n    // provide a explicit merge option method\n    mergeOptions (options, notMerge, lazyUpdate) {\n      this.delegateMethod('setOption', options, notMerge, lazyUpdate)\n    },\n    // just delegates ECharts methods to Vue component\n    // use explicit params to reduce transpiled size for now\n    appendData (params) {\n      this.delegateMethod('appendData', params)\n    },\n    resize (options) {\n      this.delegateMethod('resize', options)\n    },\n    dispatchAction (payload) {\n      this.delegateMethod('dispatchAction', payload)\n    },\n    convertToPixel (finder, value) {\n      return this.delegateMethod('convertToPixel', finder, value)\n    },\n    convertFromPixel (finder, value) {\n      return this.delegateMethod('convertFromPixel', finder, value)\n    },\n    containPixel (finder, value) {\n      return this.delegateMethod('containPixel', finder, value)\n    },\n    showLoading (type, options) {\n      this.delegateMethod('showLoading', type, options)\n    },\n    hideLoading () {\n      this.delegateMethod('hideLoading')\n    },\n    getDataURL (options) {\n      return this.delegateMethod('getDataURL', options)\n    },\n    getConnectedDataURL (options) {\n      return this.delegateMethod('getConnectedDataURL', options)\n    },\n    clear () {\n      this.delegateMethod('clear')\n    },\n    dispose () {\n      this.delegateMethod('dispose')\n    },\n    delegateMethod (name, ...args) {\n      if (!this.chart) {\n        Vue.util.warn(`Cannot call [${name}] before the chart is initialized. Set prop [options] first.`, this)\n        return\n      }\n      return this.chart[name](...args)\n    },\n    delegateGet (name, method) {\n      if (!this.chart) {\n        Vue.util.warn(`Cannot get [${name}] before the chart is initialized. Set prop [options] first.`, this)\n      }\n      return this.chart[method]()\n    },\n    init () {\n      if (this.chart) {\n        return\n      }\n\n      let chart = echarts.init(this.$el, this.theme, this.initOptions)\n\n      if (this.group) {\n        chart.group = this.group\n      }\n\n      chart.setOption(this.options, true)\n\n      // expose ECharts events as custom events\n      EVENTS.forEach(event => {\n        chart.on(event, params => {\n          this.$emit(event, params)\n        })\n      })\n\n      if (this.autoResize) {\n        this.__resizeHandler = debounce(() => {\n          chart.resize()\n        }, 100, { leading: true })\n        addListener(this.$el, this.__resizeHandler)\n      }\n\n      this.chart = chart\n    },\n    destroy () {\n      if (this.autoResize) {\n        removeListener(this.$el, this.__resizeHandler)\n      }\n      this.dispose()\n      this.chart = null\n    },\n    refresh () {\n      this.destroy()\n      this.init()\n    }\n  },\n  created () {\n    this.$watch('options', options => {\n      if (!this.chart && options) {\n        this.init()\n      } else {\n        this.chart.setOption(this.options, true)\n      }\n    }, { deep: !this.watchShallow })\n\n    let watched = ['theme', 'initOptions', 'autoResize', 'watchShallow']\n    watched.forEach(prop => {\n      this.$watch(prop, () => {\n        this.refresh()\n      }, { deep: true })\n    })\n  },\n  mounted () {\n    // auto init if `options` is already provided\n    if (this.options) {\n      this.init()\n    }\n  },\n  activated () {\n    if (this.autoResize) {\n      this.chart && this.chart.resize()\n    }\n  },\n  beforeDestroy () {\n    if (!this.chart) {\n      return\n    }\n    this.destroy()\n  },\n  connect (group) {\n    if (typeof group !== 'string') {\n      group = group.map(chart => chart.chart)\n    }\n    echarts.connect(group)\n  },\n  disconnect (group) {\n    echarts.disConnect(group)\n  },\n  registerMap (mapName, geoJSON, specialAreas) {\n    echarts.registerMap(mapName, geoJSON, specialAreas)\n  },\n  registerTheme (name, theme) {\n    echarts.registerTheme(name, theme)\n  },\n  graphic: echarts.graphic\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// node_modules/vue-echarts/components/ECharts.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"echarts\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3156dacb\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./node_modules/vue-echarts/components/ECharts.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3156dacb\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../vue-loader/lib/selector?type=styles&index=0!./ECharts.vue\")\n}\nvar normalizeComponent = require(\"!../../vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./ECharts.vue\"\nimport __vue_script__ from \"!!babel-loader!../../vue-loader/lib/selector?type=script&index=0!./ECharts.vue\"\n/* template */\nimport __vue_template__ from \"!!../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3156dacb\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../vue-loader/lib/selector?type=template&index=0!./ECharts.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-echarts/components/ECharts.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport Element from 'element-ui'\nimport lang from 'element-ui/lib/locale/lang/ru-RU'\nimport locale from 'element-ui/lib/locale'\nimport App from './App'\nimport router from './router'\nimport './styles/theme.scss'\nimport store from './store'\nimport ECharts from 'vue-echarts/components/ECharts'\n\n// import ECharts modules manually to reduce bundle size\nimport 'echarts/lib/chart/bar'\nimport 'echarts/lib/chart/pie'\nimport 'echarts/lib/component/tooltip'\n\n// register component to use\nVue.component('chart', ECharts)\n\n// configure language\nlocale.use(lang)\nVue.config.productionTip = false\n\nVue.use(Element)\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>',\n  store\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}